# =============================================================================
# CONFIGURACION VSM DASHBOARD BORGWARNER - VARIABLES DE ENTORNO
# Archivo .env actualizado con soporte para rangos DHCP corporativos
# =============================================================================

# =================================
# CONFIGURACION BASICA DEL SERVIDOR
# =================================
NODE_ENV=production
PORT=3001
HTTPS_PORT=3443

# =================================
# CONFIGURACION DE SEGURIDAD IP - NUEVA IMPLEMENTACION
# =================================

# Modo de validacion IP: 'static', 'ranges', 'hybrid'
IP_VALIDATION_MODE=hybrid

# IPs especificas permitidas (mantener para compatibilidad y acceso admin)
ALLOWED_IPS=127.0.0.1,::1,10.42.126.135

# Rangos DHCP corporativos proporcionados por IT
DHCP_RANGES=10.41.126.1-10.45.126.255,10.50.126.1-10.51.126.255,10.92.48.1-10.92.52.255

# Configuracion de cache para optimizacion de performance
ENABLE_IP_CACHE=true
IP_CACHE_TTL=300000

# Configuracion de logs de seguridad
LOG_IP_ATTEMPTS=true
DEBUG_IP_VALIDATION=false

# Anti-brute force (opcional)
BLOCK_REPEATED_ATTEMPTS=false
ATTEMPT_THRESHOLD=10
BLOCK_DURATION=3600000

# CORS - Origenes permitidos
CORS_ORIGINS=http://localhost:3001,https://localhost:3443

# =================================
# CONFIGURACION DE BASE DE DATOS
# =================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=vsm_production
DB_USER=postgres
DB_PASSWORD=password
DB_SSL=false
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# =================================
# CONFIGURACION DE LOGGING
# =================================
LOG_LEVEL=info
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/application.log
LOG_MAX_FILE_SIZE=10m
LOG_MAX_FILES=5
LOG_FORMAT=combined
LOG_TIMESTAMP_FORMAT=YYYY-MM-DD HH:mm:ss

# Logs especificos de acceso IP
IP_LOG_ENABLED=true  
IP_LOG_PATH=./logs/ip-access.log

# =================================
# CONFIGURACION DE GPEC5 (INTEGRACION EXISTENTE)
# =================================
GPEC5_HOST=10.42.126.12
GPEC5_PORT=3000
GPEC5_USERNAME=admin
GPEC5_PASSWORD=admin
GPEC5_TIMEOUT=5000
GPEC5_RETRY_ATTEMPTS=3
GPEC5_RETRY_DELAY=1000

# =================================
# CONFIGURACION SSL/TLS
# =================================
SSL_ENABLED=true
SSL_CERT_PATH=./certs/cert.pem
SSL_KEY_PATH=./certs/key.pem

# =================================
# CONFIGURACION DE WEBSOCKETS
# =================================
WS_ENABLED=true
WS_PORT=8080
WS_HEARTBEAT_INTERVAL=30000
WS_MAX_CONNECTIONS=100

# =================================
# CONFIGURACION DE PERFORMANCE
# =================================
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
RATE_LIMIT_ENABLED=false
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# =================================
# CONFIGURACION DEL DASHBOARD VSM
# =================================
VSM_REFRESH_INTERVAL=5000
VSM_MAX_DATA_POINTS=1000
VSM_CACHE_DURATION=60000
VSM_ENABLE_REAL_TIME=true

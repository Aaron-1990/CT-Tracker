<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard VSM - L√≠nea GPEC5 en Tiempo Real</title>
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../shared/css/variables.css">
    <link rel="stylesheet" href="css/vsm-dashboard.css">
    <link rel="stylesheet" href="css/process-cards.css">
    <link rel="stylesheet" href="css/metrics-display.css">
    <link rel="stylesheet" href="css/realtime-indicators.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <div class="header">
            <h1>üó∫Ô∏è Dashboard VSM - L√≠nea GPEC5</h1>
            <div class="subtitle">Sistema de Monitoreo Value Stream Mapping en Tiempo Real</div>
            
            <div class="status-bar">
                <div class="status-item">
                    <div class="status-indicator"></div>
                    <span>Sistema Online</span>
                </div>
                <div class="status-item">
                    <div class="status-indicator"></div>
                    <span>Procesando CSVs</span>
                </div>
                <div class="status-item">
                    <div class="status-indicator"></div>
                    <span>Detecci√≥n ¬±2œÉ Activa</span>
                </div>
                <div class="status-item">
                    <div class="status-indicator"></div>
                    <span id="connection-status">Datos en Tiempo Real</span>
                </div>
            </div>
        </div>

        <!-- VSM Flow Principal -->
        <div class="vsm-flow">
            <!-- Wave Solder -->
            <div class="process-card">
                <div class="realtime-indicator"></div>
                <div class="process-title">üåä WAVE SOLDER</div>
                <div class="equipment-info">
                    Equipos: WAVESOLDER_01<br>
                    Configuraci√≥n: Individual
                </div>
                
                <div class="metrics-grid">
                    <div class="metric-item">
                        <span class="metric-value" id="wave-design">45s</span>
                        <span class="metric-label">‚öôÔ∏è Dise√±o</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-value" id="wave-real">47s</span>
                        <span class="metric-label">‚ö° T.Real</span>
                        <span class="outlier-indicator outlier-normal">Normal</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-value" id="wave-hourly">48s</span>
                        <span class="metric-label">üìä Prom.1h</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-value" id="wave-oee">94.2%</span>
                        <span class="metric-label">üìà OEE</span>
                    </div>
                </div>

                <div class="big-metrics">
                    <div class="big-metric">
                        <div class="big-metric-value" id="wave-pieces">892</div>
                        <div class="big-metric-label">üî¢ Piezas</div>
                    </div>
                    <div class="big-metric">
                        <div class="big-metric-value" id="wave-efficiency">95.7%</div>
                        <div class="big-metric-label">üìä Eficiencia</div>
                    </div>
                </div>
            </div>

            <div class="flow-arrow">‚Üí</div>

            <!-- Continuity -->
            <div class="process-card">
                <div class="realtime-indicator"></div>
                <div class="process-title">üîå CONTINUITY</div>
                <div class="equipment-info">
                    Equipos: CONT01, CONT02, CONT03<br>
                    Configuraci√≥n: Paralelos | Agregaci√≥n: Promedio Ponderado
                </div>
                
                <div class="metrics-grid">
                    <div class="metric-item">
                        <span class="metric-value" id="cont-design">30s</span>
                        <span class="metric-label">‚öôÔ∏è Dise√±o</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-value" id="cont-real">32s</span>
                        <span class="metric-label">‚ö° T.Real</span>
                        <span class="outlier-indicator outlier-normal">Normal</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-value" id="cont-hourly">31s</span>
                        <span class="metric-label">üìä Prom.1h</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-value" id="cont-oee">96.8%</span>
                        <span class="metric-label">üìà OEE</span>
                    </div>
                </div>

                <div class="big-metrics">
                    <div class="big-metric">
                        <div class="big-metric-value" id="cont-pieces">1,145</div>
                        <div class="big-metric-label">üî¢ Piezas</div>
                    </div>
                    <div class="big-metric">
                        <div class="big-metric-value" id="cont-efficiency">93.8%</div>
                        <div class="big-metric-label">üìä Eficiencia</div>
                    </div>
                </div>
            </div>

            <div class="flow-arrow">‚Üí</div>

            <!-- Hot Test -->
            <div class="process-card">
                <div class="realtime-indicator"></div>
                <div class="process-title">üî• HOT TEST</div>
                <div class="equipment-info">
                    Equipos: HTFT_01 a HTFT_11 (10 equipos)<br>
                    Configuraci√≥n: Paralelos Masivos | Agregaci√≥n: Promedio Ponderado
                </div>
                
                <div class="metrics-grid">
                    <div class="metric-item">
                        <span class="metric-value" id="htft-design">60s</span>
                        <span class="metric-label">‚öôÔ∏è Dise√±o</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-value" id="htft-real">63s</span>
                        <span class="metric-label">‚ö° T.Real</span>
                        <span class="outlier-indicator outlier-warning">¬±2œÉ</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-value" id="htft-hourly">65s</span>
                        <span class="metric-label">üìä Prom.1h</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-value" id="htft-oee">91.2%</span>
                        <span class="metric-label">üìà OEE</span>
                    </div>
                </div>

                <div class="big-metrics">
                    <div class="big-metric">
                        <div class="big-metric-value" id="htft-pieces">2,347</div>
                        <div class="big-metric-label">üî¢ Piezas</div>
                    </div>
                    <div class="big-metric">
                        <div class="big-metric-value" id="htft-efficiency">95.2%</div>
                        <div class="big-metric-label">üìä Eficiencia</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Estad√≠sticas Generales -->
        <div class="summary-stats">
            <div class="summary-title">
                üìä Resumen General - L√≠nea GPEC5
            </div>
            
            <div class="summary-grid">
                <div class="summary-card">
                    <div class="summary-value" id="total-pieces">4,384</div>
                    <div class="summary-label">Total Piezas Procesadas</div>
                    <div class="summary-detail">√öltimas 8 horas | +2.3% vs ayer</div>
                </div>
                
                <div class="summary-card">
                    <div class="summary-value" id="total-cycle-time">140s</div>
                    <div class="summary-label">Tiempo Total L√≠nea</div>
                    <div class="summary-detail">Suma secuencial | Target: 135s</div>
                </div>
                
                <div class="summary-card">
                    <div class="summary-value" id="line-efficiency">94.9%</div>
                    <div class="summary-label">Eficiencia de L√≠nea</div>
                    <div class="summary-detail">Promedio ponderado | Target: 95%</div>
                </div>
                
                <div class="summary-card">
                    <div class="summary-value" id="outliers-detected">3.2%</div>
                    <div class="summary-label">Outliers Detectados</div>
                    <div class="summary-detail">¬±2œÉ | Umbral: 5% | Status: Normal</div>
                </div>
                
                <div class="summary-card">
                    <div class="summary-value" id="throughput">25.7</div>
                    <div class="summary-label">Throughput (pzs/h)</div>
                    <div class="summary-detail">Capacidad actual | Target: 26.7</div>
                </div>
                
                <div class="summary-card">
                    <div class="summary-value" id="uptime">98.1%</div>
                    <div class="summary-label">Uptime de L√≠nea</div>
                    <div class="summary-detail">√öltimas 24h | Excelente</div>
                </div>
            </div>
        </div>

        <!-- Footer con √∫ltima actualizaci√≥n -->
        <div class="last-updated">
            üïí √öltima actualizaci√≥n: <span id="last-update-time">07/21/2025 07:08:27</span> | 
            üì° Polling cada 30 segundos | 
            üéØ Procesando datos de: mxryfis4.global.borgwarner.net |
            ‚ö° Sistema VSM v1.0 - Detecci√≥n ¬±2œÉ Activa
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="../shared/js/utils.js"></script>
    <script src="js/realtime-metrics.js"></script>
    <script src="js/gpec5-data-processor.js"></script>
    <script src="js/vsm-dashboard-main.js"></script>
</body>
</html>